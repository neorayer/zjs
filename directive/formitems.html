<div class="form-group" 
     ng-class="{'has-error': IsAttrError(attr)}"
     ng-repeat="attr in formAttrs" >
  <div class="row"></div>

    <label for="{{AttrId(attr)}}" class="col col-sm-3 control-label">{{attr.label}}</label>

  <div class="col col-sm-9">
    <input ng-if="attr.type === 'text' || attr.type === 'password'"
           id = "{{AttrId(attr)}}"
           name="{{attr.name}}"
           type="{{attr.type}}"  
           class="form-control"
           placeholder="{{attr.placeholder}}"
           ng-model="ngModel[attr.name]"
           ng-blur="Validate(attr)"
           >
    <!-- select ng-if="attr.type === 'select'" 
            ng-options="option.value as option.label for option in attr.realOptions"
            ng-model="ngModel[attr.name]">
    </select -->
    <div ng-if="attr.type === 'radio'"
         class="btn-group">
        <span class="btn btn-default" 
               ng-model="ngModel[attr.name]" 
               ng-repeat="option in attr.options"
               btn-radio="option[attr.optionValueName]">
               {{option[attr.optionLabelName]}}
        </span>
    </div>
    <div ng-if="attr.type === 'select'"
         ng-class="{'input-group':attr.additions}" 
         >
      <!-- options为对象类型 -->
      <ui-select ng-model="ngModel[attr.name]"
                 ng-if="!attr.isSimpleOption"
                 theme="bootstrap"
                 >
          <ui-select-match placeholder="">{{$select.selected[attr.optionLabelName]}}</ui-select-match>
          <ui-select-choices repeat="option[attr.optionValueName] as option in attr.options|filter:$select.search">
            <div ng-bind-html="option[attr.optionLabelName]"></div>
          </ui-select-choices>
      </ui-select>
      <!-- options为简单类型 -->
      <ui-select ng-model="ngModel[attr.name]"
                 ng-if="attr.isSimpleOption"
                 theme="bootstrap"
                 >
          <ui-select-match placeholder="">{{$select.selected}}</ui-select-match>
          <ui-select-choices repeat="option as option in attr.options|filter:$select.search">
            <div ng-bind-html="option"></div>
          </ui-select-choices>
      </ui-select>

      <span class="input-group-addon" ng-repeat="ad in attr.additions">
        <a href ng-click="ad.click()">{{ad.label}}</a>
      </span>
    </div>

    <textarea ng-if="attr.type === 'article'"
              id = "{{AttrId(attr)}}"
              style="height:200px"
              class="form-control"
              ng-model="ngModel[attr.name]">
    </textarea>
    <div text-angular 
         class="text-angular" 
         ng-if="attr.type === 'html'"
         ng-model="ngModel[attr.name]">
    </div>
    <p class="input-group formitem-datepicker" ng-if="attr.type === 'date'">
      <input type="text" 
             id = "{{AttrId(attr)}}"
             class="form-control" 
             datepicker-popup="yyyy/MM/dd" 
             ng-model="ngModel[attr.name]"
             is-open="attr.$_isOpened"
             close-text="Close" />
      <span class="input-group-btn">
        <button type="button" class="btn btn-sm btn-default" 
                ng-click="SwitchDatePicker($event, attr)">
          <i class="fa fa-calendar"></i>
        </button>
      </span>
    </p>
    <teleinput ng-if="attr.type === 'tele'"
               ng-model="ngModel[attr.name]">
    </teleinput>
    <person-name ng-if="attr.type === 'personname'"
               ng-model="ngModel[attr.name]">
    </person-name>
    <p class="help-block" ng-show="IsAttrError(attr)">
      {{formError.msg}}
    </p>
  </div>
</div>

<div class="row"></div>
